{% extends 'base.html.twig' %}

{% block body %}
	{% include "shared/patient/navbar.html.twig" %}

	<br>
	<br>
	<br>
	<div class="container">
		<div class="container mr-autos">
			<div class="row">
				<div class="col">
					<h1>Elements envoyés</h1>
				</div>
			</div>
			<div class="row">
				<div class="col">
					<p>Vous avez envoyé
						{{app.user.patient.sent|length}}
						messages
					</p>
				</div>
			</div>


		</div>
		<table class="table">
			<tr>
				<th>De</th>
				<th>Sujet</th>
				<th>La date</th>
				<th>Actions</th>
			</tr>
			{% for message in app.user.patient.sent %}
				{% if message.isRead == 0 %}
					{% set bold = "font-weight-bold" %}
				{% else %}
					{% set bold = "" %}
				{% endif %}
				<tr>
					<td>
						<div class="col-6 {{bold}}">{{message.sender.nom}}</div>
					</td>
					<td>
						<div class="col-6 {{bold}}">
							<a href="{{path("read", { id: message.id })}}">
								{{message.title}}</a>
						</div>
					</td>
					<td>
						<div class="col-6 {{bold}}">{{message.createdAt|date}}</div>
					</td>
					<td>
						<div class="col-6 {{bold}}">
							<a href="{{path("delete", {id: message.id})}}">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-excel-fill text-danger" viewbox="0 0 16 16">
									<path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM5.884 4.68 8 7.219l2.116-2.54a.5.5 0 1 1 .768.641L8.651 8l2.233 2.68a.5.5 0 0 1-.768.64L8 8.781l-2.116 2.54a.5.5 0 0 1-.768-.641L7.349 8 5.116 5.32a.5.5 0 1 1 .768-.64z"/>
								</svg>
							</a>
						</div>
					</td>
				</tr>


			{% endfor %}
		</tr>
	</table>


</p>
<div class="row">
	<div class="col">
		<a href="{{path("send")}}" class="btn btn-primary">Envoyer un message</a>
	</div>
</div></p></div>{% endblock %}
